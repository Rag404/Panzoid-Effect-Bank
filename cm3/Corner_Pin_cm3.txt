[{"data":[{"type":1,"properties":{"name":"Corner Pin","enabled":{"animated":false,"keyframes":[{"value":1,"frame":0,"tween":0,"controlPoints":[[-10,0],[10,0]]}]},"fragShader":"/*\nCode from https://iquilezles.org/articles/ibilinear/\nPorted to CM3 by Rag\n*/\n\nprecision highp float;\nprecision highp int;\n\nuniform sampler2D tDiffuse;\nvarying vec2 vUvScaled;\n\nuniform vec2 Bottom_Left;\nuniform vec2 Bottom_Right;\nuniform vec2 Top_Right;\nuniform vec2 Top_Left;\nuniform float Scale;\n\nvec2 wrap(vec2 uv) {\n  // Applies a mirror wrapping\n  return 1.0 - abs(mod(uv, 2.0) - 1.0);\n}\n\nfloat cross2d(vec2 a, vec2 b) {\n    return a.x*b.y - a.y*b.x;\n}\n\nvec2 invBilinear(vec2 p, vec2 a, vec2 b, vec2 c, vec2 d) {\n    vec2 res = vec2(-1.0);\n\n    vec2 e = b-a;\n    vec2 f = d-a;\n    vec2 g = a-b+c-d;\n    vec2 h = p-a;\n        \n    float k2 = cross2d( g, f );\n    float k1 = cross2d( e, f ) + cross2d( h, g );\n    float k0 = cross2d( h, e );\n    \n    // if edges are parallel, this is a linear equation\n    if(abs(k2) < 0.001) {\n        res = vec2((h.x*k1+f.x*k0)/(e.x*k1-g.x*k0), -k0/k1);\n    }\n    // otherwise, it's a quadratic\n    else {\n        float w = k1*k1 - 4.0*k0*k2;\n        if(w < 0.0) return vec2(-1.0);\n        w = sqrt(w);\n\n        float ik2 = 0.5/k2;\n        float v = (-k1 - w)*ik2;\n        float u = (h.x - f.x*v)/(e.x + g.x*v);\n        \n        if(u<0.0 || u>1.0 || v<0.0 || v>1.0) {\n           v = (-k1 + w)*ik2;\n           u = (h.x - f.x*v)/(e.x + g.x*v);\n        }\n        res = vec2(u, v);\n    }\n    return res;\n}\n\nvoid main() {\n    vec2 coord = invBilinear(\n        vUvScaled,\n        Bottom_Left,\n        Bottom_Right,\n        Top_Right,\n        Top_Left\n    );\n    coord = (coord - 0.5)/Scale + 0.5;\n    gl_FragColor = texture2D(tDiffuse, wrap(coord));\n}"},"customProperties":[{"type":{"custom":true,"group":true,"dynamic":true,"objects":[{"dynamic":true,"name":"X","type":0,"value":0},{"dynamic":true,"name":"Y","type":0,"value":0}],"type":1},"properties":{"name":"Bottom Left"},"objects":[{"animated":false,"keyframes":[{"value":0,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]},{"animated":false,"keyframes":[{"value":0,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]}]},{"type":{"custom":true,"group":true,"dynamic":true,"objects":[{"dynamic":true,"name":"X","type":0,"value":0},{"dynamic":true,"name":"Y","type":0,"value":0}],"type":1},"properties":{"name":"Bottom Right"},"objects":[{"animated":false,"keyframes":[{"value":1,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]},{"animated":false,"keyframes":[{"value":0,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]}]},{"type":{"custom":true,"group":true,"dynamic":true,"objects":[{"dynamic":true,"name":"X","type":0,"value":0},{"dynamic":true,"name":"Y","type":0,"value":0}],"type":1},"properties":{"name":"Top Right"},"objects":[{"animated":false,"keyframes":[{"value":1,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]},{"animated":false,"keyframes":[{"value":1,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]}]},{"type":{"custom":true,"group":true,"dynamic":true,"objects":[{"dynamic":true,"name":"X","type":0,"value":0},{"dynamic":true,"name":"Y","type":0,"value":0}],"type":1},"properties":{"name":"Top Left"},"objects":[{"animated":false,"keyframes":[{"value":0,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]},{"animated":false,"keyframes":[{"value":1,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]}]},{"type":{"custom":true,"dynamic":true,"type":0},"properties":{"name":"Scale"},"animated":false,"keyframes":[{"value":1,"frame":0,"tween":1,"controlPoints":[[-10,0],[10,0]]}]}]}],"baseType":"effect","assets":[]}]